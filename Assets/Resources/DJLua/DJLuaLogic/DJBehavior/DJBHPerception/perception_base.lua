--
-- Des: 感知器的基类
-- Author: John
-- Date: 2016年9月18日 星期日 农历八月十八
--

require "sprite_base"

perception_base = Class.define("perception_base")

----------------------------------------------------------------------------------------------
---- 表内变量
----------------------------------------------------------------------------------------------

-- 主人
local perception_base.owner

----------------------------------------------------------------------------------------------
---- 继承函数
----------------------------------------------------------------------------------------------

-- 构造
function perception_base:_ctor()

    -- 初始化内部变量

end

----------------------------------------------------------------------------------------------
---- 内部逻辑
----------------------------------------------------------------------------------------------

-- 初始化感知器
-- 如果继承，需要注意赋予_sprite对象
function perception_base:init(_sprite)
    self.owner = _sprite
end

----------------------------------------------------------------------------------------------
---- 外部接口
----------------------------------------------------------------------------------------------
-- 感知器的刷新帧
function perception_base:tick()
    -- 如果基类的这个函数被执行了，说明上层有感知器没有实现。这是一种错误。
    error("有感知器没有实现tick函数，请检查")
    assert(true)
end

-- 行为树使用的询问接口
-- _askType：询问类型
-- _args: 参数
function perception_base:Ask(_askType, _args)
    error("有感知器被询问了，但是没有调用子类的询问方法")
end

----------------------------------------------------------------------------------------------
---- 通信接口
----------------------------------------------------------------------------------------------